"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[806],{87806:(e,a,t)=>{t.r(a),t.d(a,{default:()=>v});var n=t(89379),r=t(65043),i=t(66580),l=t(23927),o=t(95010),c=t(59748),s=t(80495),d=t(6051),h=t(85531),m=t(27210),g=t(8354),u=t(57967),p=t(54903),x=t(62918),b=t(16876),j=t(75337),A=t(70579);const{Title:y}=l.A,{Option:f}=o.A,v=()=>{const[e]=c.A.useForm(),[a,t]=(0,r.useState)([]),[l,v]=(0,r.useState)(!1),[k,S]=(0,r.useState)({}),[I,w]=(0,r.useState)(0),[z,C]=(0,r.useState)(0),[B,N]=(0,r.useState)(0),[P,O]=(0,r.useState)(null),[M,T]=(0,r.useState)(""),[E,H]=(0,r.useState)(""),W=e=>{if(!e)return"Rp 0";const a=e.toString().replace(/[^,\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,".");return"Rp ".concat(a)},L=e=>parseInt(e.replace(/[^,\d]/g,"")||0,10),G=[{title:"No",key:"no",render:(e,a,t)=>t+1},{title:"Nama Barang",dataIndex:"namaBarang",key:"namaBarang"},{title:"Jumlah",dataIndex:"jumlah",key:"jumlah"},{title:"Harga beli",dataIndex:"harga",key:"harga",render:e=>W(e)},{title:"Total",key:"total",render:(e,a)=>W(a.jumlah*a.harga)},{title:"Aksi",key:"action",render:(e,n)=>(0,A.jsx)(s.Ay,{type:"link",danger:!0,onClick:()=>{return e=n.key,void t(a.filter((a=>a.key!==e)));var e},children:"Hapus"})}];return(0,A.jsxs)("div",{className:"mt-3",children:[(0,A.jsxs)(d.A,{children:[(0,A.jsx)(i.N_,{to:"/pembelian",children:(0,A.jsx)(b.A,{style:{fontSize:"24px",color:"#1890ff"}})}),(0,A.jsx)(y,{level:3,style:{margin:0},children:"Tambah Pembelian"})]}),(0,A.jsx)(h.A,{className:"shadow-md shadow-blue-300 mt-3",children:(0,A.jsxs)(c.A,{form:e,layout:"vertical",onFinish:e=>{const t=(0,n.A)((0,n.A)({},e),{},{barangList:a,biayaKirim:I,biayaCukai:z,biayaLain:B});console.log("Data yang dikirim:",t)},children:[(0,A.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[(0,A.jsxs)("div",{className:"space-y-2",children:[(0,A.jsx)(c.A.Item,{label:"Nomor",name:"nomor",initialValue:"PYK-2024/XI/120",children:(0,A.jsx)(m.A,{disabled:!0})}),(0,A.jsx)(c.A.Item,{label:"Proyek",name:"proyek",children:(0,A.jsxs)(o.A,{placeholder:"Pilih Proyek",children:[(0,A.jsx)(f,{value:"proyek1",children:"Proyek 1"}),(0,A.jsx)(f,{value:"proyek2",children:"Proyek 2"})]})}),(0,A.jsx)(c.A.Item,{label:"Supplier",name:"supplier",children:(0,A.jsxs)(o.A,{placeholder:"Pilih Supplier",children:[(0,A.jsx)(f,{value:"supplier1",children:"Supplier 1"}),(0,A.jsx)(f,{value:"supplier2",children:"Supplier 2"})]})})]}),(0,A.jsxs)("div",{className:"space-y-2",children:[(0,A.jsx)(c.A.Item,{label:"Biaya Kirim",children:(0,A.jsx)(m.A,{value:W(I),onChange:e=>w(L(e.target.value))})}),(0,A.jsx)(c.A.Item,{label:"Biaya Cukai",children:(0,A.jsx)(m.A,{value:W(z),onChange:e=>C(L(e.target.value))})}),(0,A.jsx)(c.A.Item,{label:"Biaya Lain-lain",children:(0,A.jsx)(m.A,{value:W(B),onChange:e=>N(L(e.target.value))})})]}),(0,A.jsxs)("div",{className:"space-y-2",children:[(0,A.jsx)(c.A.Item,{label:"Jenis Profit",children:(0,A.jsxs)(o.A,{value:P,onChange:e=>O(e),placeholder:"Pilih Jenis Profit",children:[(0,A.jsx)(f,{value:"persen",children:"Persen (%)"}),(0,A.jsx)(f,{value:"nominal",children:"Nominal"})]})}),"persen"===P&&(0,A.jsx)(c.A.Item,{label:"Persen (%)",children:(0,A.jsx)(m.A,{placeholder:"Masukkan persentase profit",value:M,onChange:e=>T(e.target.value)})}),"nominal"===P&&(0,A.jsx)(c.A.Item,{label:"Nominal",children:(0,A.jsx)(m.A,{placeholder:"Masukkan nominal profit",value:W(E),onChange:e=>H(L(e.target.value))})}),(0,A.jsxs)("p",{className:"text-red-700",children:["Untuk Semua Barang, Harga jual per barang akan ditambahkan sebesar"," ","persen"===P&&M?"".concat(M," %"):"nominal"===P&&E?"Rp ".concat(W(E)):"..."," ","dari harga beli."]})]})]}),(0,A.jsx)(g.A,{}),(0,A.jsx)("p",{className:"font-black",children:"List Barang:"}),(0,A.jsx)(u.A,{columns:G,dataSource:a,pagination:!1,rowKey:"key",style:{marginBottom:"16px"},summary:()=>(0,A.jsxs)(u.A.Summary.Row,{children:[(0,A.jsx)(u.A.Summary.Cell,{colSpan:4,align:"right",children:(0,A.jsx)("strong",{children:"Grand Total"})}),(0,A.jsx)(u.A.Summary.Cell,{children:(0,A.jsx)("strong",{children:W(a.reduce(((e,a)=>e+a.jumlah*a.harga),0))})}),(0,A.jsx)(u.A.Summary.Cell,{})]})}),(0,A.jsx)(d.A,{children:(0,A.jsx)(s.Ay,{type:"primary",onClick:()=>v(!0),children:"Tambah Barang"})}),(0,A.jsx)(g.A,{}),(0,A.jsx)(c.A.Item,{label:"Invoice",children:(0,A.jsx)(p.A,{multiple:!0,children:(0,A.jsx)(s.Ay,{icon:(0,A.jsx)(j.A,{}),children:"Upload"})})}),(0,A.jsx)(c.A.Item,{label:"Bukti Transfer",children:(0,A.jsx)(p.A,{multiple:!0,children:(0,A.jsx)(s.Ay,{icon:(0,A.jsx)(j.A,{}),children:"Upload"})})}),(0,A.jsx)(c.A.Item,{label:"Faktur Pembelian",children:(0,A.jsx)(p.A,{multiple:!0,children:(0,A.jsx)(s.Ay,{icon:(0,A.jsx)(j.A,{}),children:"Upload"})})}),(0,A.jsxs)(d.A,{className:"flex justify-end mt-3",children:[(0,A.jsx)(s.Ay,{type:"primary",htmlType:"submit",children:"Simpan"}),(0,A.jsx)(s.Ay,{htmlType:"button",onClick:()=>e.resetFields(),children:"Reset"})]})]})}),(0,A.jsx)(x.A,{title:"Tambah Barang",open:l,onCancel:()=>v(!1),onOk:()=>{t([...a,(0,n.A)((0,n.A)({},k),{},{key:Date.now()})]),S({}),v(!1)},children:(0,A.jsxs)(c.A,{layout:"vertical",children:[(0,A.jsx)(c.A.Item,{label:"Nama Barang",required:!0,children:(0,A.jsx)(o.A,{showSearch:!0,placeholder:"Pilih atau ketik nama barang",onChange:e=>S((0,n.A)((0,n.A)({},k),{},{namaBarang:e})),children:[{id:1,nama:"Barang A"},{id:2,nama:"Barang B"},{id:3,nama:"Barang C"}].map((e=>(0,A.jsx)(f,{value:e.nama,children:e.nama},e.id)))})}),(0,A.jsx)(c.A.Item,{label:"Jumlah",required:!0,children:(0,A.jsx)(m.A,{type:"number",min:1,value:k.jumlah,onChange:e=>S((0,n.A)((0,n.A)({},k),{},{jumlah:parseInt(e.target.value)}))})}),(0,A.jsx)(c.A.Item,{label:"Harga Satuan",required:!0,children:(0,A.jsx)(m.A,{value:W(k.harga||0),onChange:e=>S((0,n.A)((0,n.A)({},k),{},{harga:L(e.target.value)}))})})]})})]})}},16876:(e,a,t)=>{t.d(a,{A:()=>c});var n=t(58168),r=t(65043);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M603.3 327.5l-246 178a7.95 7.95 0 000 12.9l246 178c5.3 3.8 12.7 0 12.7-6.5V643c0-10.2-4.9-19.9-13.2-25.9L457.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"left-circle",theme:"outlined"};var l=t(22172),o=function(e,a){return r.createElement(l.A,(0,n.A)({},e,{ref:a,icon:i}))};const c=r.forwardRef(o)},8354:(e,a,t)=>{t.d(a,{A:()=>u});var n=t(65043),r=t(98139),i=t.n(r),l=t(35296),o=t(43944),c=t(94414),s=t(78855),d=t(78446);const h=e=>{const{componentCls:a,sizePaddingEdgeHorizontal:t,colorSplit:n,lineWidth:r,textPaddingInline:i,orientationMargin:l,verticalMarginInline:s}=e;return{[a]:Object.assign(Object.assign({},(0,c.dF)(e)),{borderBlockStart:"".concat((0,o.zA)(r)," solid ").concat(n),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat((0,o.zA)(r)," solid ").concat(n)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat((0,o.zA)(e.dividerHorizontalGutterMargin)," 0")},["&-horizontal".concat(a,"-with-text")]:{display:"flex",alignItems:"center",margin:"".concat((0,o.zA)(e.dividerHorizontalWithTextGutterMargin)," 0"),color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(n),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat((0,o.zA)(r)," solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},["&-horizontal".concat(a,"-with-text-left")]:{"&::before":{width:"calc(".concat(l," * 100%)")},"&::after":{width:"calc(100% - ".concat(l," * 100%)")}},["&-horizontal".concat(a,"-with-text-right")]:{"&::before":{width:"calc(100% - ".concat(l," * 100%)")},"&::after":{width:"calc(".concat(l," * 100%)")}},["".concat(a,"-inner-text")]:{display:"inline-block",paddingBlock:0,paddingInline:i},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:"".concat((0,o.zA)(r)," 0 0")},["&-horizontal".concat(a,"-with-text").concat(a,"-dashed")]:{"&::before, &::after":{borderStyle:"dashed none none"}},["&-vertical".concat(a,"-dashed")]:{borderInlineStartWidth:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:n,borderStyle:"dotted",borderWidth:"".concat((0,o.zA)(r)," 0 0")},["&-horizontal".concat(a,"-with-text").concat(a,"-dotted")]:{"&::before, &::after":{borderStyle:"dotted none none"}},["&-vertical".concat(a,"-dotted")]:{borderInlineStartWidth:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},["&-plain".concat(a,"-with-text")]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},["&-horizontal".concat(a,"-with-text-left").concat(a,"-no-default-orientation-margin-left")]:{"&::before":{width:0},"&::after":{width:"100%"},["".concat(a,"-inner-text")]:{paddingInlineStart:t}},["&-horizontal".concat(a,"-with-text-right").concat(a,"-no-default-orientation-margin-right")]:{"&::before":{width:"100%"},"&::after":{width:0},["".concat(a,"-inner-text")]:{paddingInlineEnd:t}}})}},m=(0,s.OF)("Divider",(e=>{const a=(0,d.oX)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[h(a)]}),(e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),{unitless:{orientationMargin:!0}});var g=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]])}return t};const u=e=>{const{getPrefixCls:a,direction:t,divider:r}=n.useContext(l.QO),{prefixCls:o,type:c="horizontal",orientation:s="center",orientationMargin:d,className:h,rootClassName:u,children:p,dashed:x,variant:b="solid",plain:j,style:A}=e,y=g(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),f=a("divider",o),[v,k,S]=m(f),I=!!p,w="left"===s&&null!=d,z="right"===s&&null!=d,C=i()(f,null===r||void 0===r?void 0:r.className,k,S,"".concat(f,"-").concat(c),{["".concat(f,"-with-text")]:I,["".concat(f,"-with-text-").concat(s)]:I,["".concat(f,"-dashed")]:!!x,["".concat(f,"-").concat(b)]:"solid"!==b,["".concat(f,"-plain")]:!!j,["".concat(f,"-rtl")]:"rtl"===t,["".concat(f,"-no-default-orientation-margin-left")]:w,["".concat(f,"-no-default-orientation-margin-right")]:z},h,u),B=n.useMemo((()=>"number"===typeof d?d:/^\d+$/.test(d)?Number(d):d),[d]),N=Object.assign(Object.assign({},w&&{marginLeft:B}),z&&{marginRight:B});return v(n.createElement("div",Object.assign({className:C,style:Object.assign(Object.assign({},null===r||void 0===r?void 0:r.style),A)},y,{role:"separator"}),p&&"vertical"!==c&&n.createElement("span",{className:"".concat(f,"-inner-text"),style:N},p)))}}}]);
//# sourceMappingURL=806.f4555219.chunk.js.map